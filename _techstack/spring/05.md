---
layout: default
title: Spring 컨테이너와 빈
nav_order: 5
parent: Spring
permalink: docs/techstack/spring/05
---

# Spring 컨테이너와 빈
{: .no_toc }

## 목차
{: .no_toc .text-delta }

1. TOC
{:toc}

---

**본 문서는 인프런에서 수강할 수 있는 [스프링 핵심 원리 - 기본편](https://inflearn.com/course/스프링-핵심-원리-기본편)을 수강한 후, 공부한 내용을 정리한 문서입니다. 본 문서의 모든 저작권은 해당 강의의 저자이신 [김영한](https://inflearn.com/users/@yh) 우아한형제들 기술이사님께 있습니다.**

## Spring 컨테이너
Spring은 **[IoC(제어의 역전)](https://hangillee.github.io/docs/techstack/spring/04)** 개념을 통해 탄생한 구성자, **컨테이너**로 프로그램의 흐름을 제어합니다. Spring에서의 컨테이너를 **"Spring 컨테이너"**라고 부릅니다. Spring 컨테이너는 `ApplicationContext` 인터페이스를 통해 생성하는데, 이 `ApplicationContext` 자체를 Spring 컨테이너라고 하기도 합니다. 본격적으로 Spring을 활용하기 위해선 이 Spring 컨테이너를 생성해야합니다. 방법은 매우 간단합니다.

```java
//'AppConfig.class'는 프로그래머가 작성한 구성 정보를 담은 Java 설정 클래스입니다.
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
```

위 코드가 바로 Spring 컨테이너를 생성하는 코드입니다. `AnnotationConfigApplicationContext`는 `ApplicationContext` 인터페이스의 구현체로, `AppConfig`와 같이 구성 정보를 담은 **'어노테이션'** 기반의 **'Java 설정 클래스'**를 통해 Spring 컨테이너를 생성합니다. Spring 컨테이너를 생성하는 방식은 다양합니다. 그 중, 대표적인 두 가지가 위의 코드와 같이 어노테이션 기반의 Java 설정 클래스를 통한 생성법과 XML을 기반으로한 생성법입니다. 최근에는 주로 Java 설정 클래스를 통해 Spring 컨테이너를 생성합니다.

우리는 Spring 컨테이너를 생성할 때 Java 설정 클래스를 활용한다는 것을 알았습니다. 그런데 Java 설정 클래스가 무엇인지 어떻게 알 수 있을까요? 또, 애노테이션을 기반으로 한다는데, 애노테이션은 무엇일까요? 당연히 모든 클래스가 Java 설정 클래스가 되는 것은 아닙니다. 프로그램의 구성 정보(DI 정보)를 담고 있다고 해서 자동으로 Java 설정 클래스가 되는 것도 아닙니다. 프로그래머가 Java 설정 클래스로 사용하고자 하는 클래스를 **어노테이션**을 통해 직접 등록해줘야 Spring이 이를 확인하고 컨테이너를 생성하는데 Java 설정 클래스로 등록된 클래스를 활용합니다.

어노테이션은 Java의 문법으로 메타데이터의 일종입니다. 쉽게 설명하자면 해당 코드가 무엇인지 설명해주는 역할을 가집니다. Spring은 여러 자체적인 어노테이션들을 가지고 있고, 프로그래머가 이를 사용해 Spring의 기술을 활용할 수 있도록 합니다. 그 중 가장 기초가 되는 것이 바로 순수한 클래스를 Java 설정 클래스로 만들어주는 `@Configuration` 어노테이션입니다. 클래스 선언문 앞에 해당 어노테이션을 붙혀주면 Spring은 해당 클래스를 자동으로 Java 설정 클래스로 인식하고 그에 맞는 동작들을 수행합니다.

```java
//이제 AppConfig 클래스는 Spring에 의해 Java 설정 클래스로 관리됩니다.
@Configuration
public class AppConfig {
    ...
}
```

이렇게 `@Configuration` 어노테이션을 통해 Java 설정 클래스로 등록된 `AppConfig` 클래스는 Spring 컨테이너 생성 시 프로그램의 구성 정보로 활용됩니다. Spring은 `AppConfig`에 적혀진 대로 객체를 생성하고, 관리하며, 의존관계를 주입합니다. 다시 말해, `@Configuration` 어노테이션에 의해 Java 설정 클래스로 등록된 `AppConfig` 클래스는, IoC를 통해 프로그램의 제어권을 가지게 된 Spring 컨테이너에게 해당 프로그램의 설명서 역할을 하는 것입니다. Spring 컨테이너를 생성하기 위해선 이 Java 설정 클래스가 필수입니다.

## Spring 빈
Spring은 Java 설정 클래스에 적혀있는 객체들을 모두 생성해서 컨테이너에 등록하는데, 등록된 객체들을 빈(Bean)이라고 합니다.

## 컨테이너의 빈 조회하기

## BeanFactory와 ApplicationContext
